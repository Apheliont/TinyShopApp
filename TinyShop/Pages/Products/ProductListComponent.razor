@inject IStringLocalizer<App> Localizer

@if (Products is not null)
{
    <div class="ui divided items">
        @foreach (ProductModel product in Products)
        {
            var targetId = "carousel" + product.Id.ToString();
            <div class="ui item">
                <div class="image">
                    <img src="https://c.dns-shop.ru/thumb/st1/fit/320/250/f6b172885b875667704cd5e81ddf1ae2/ee726604f2aba57d1902e154e3b11d59d300834ba9f3d0aa113c21dc161e112c.jpg" class="d-block w-100" alt="...">
                </div>

                <div class="content">
                    <a class="header">@product.ProductName</a>
                    <div class="meta">
                        <span class="cinema">Union Square 14</span>
                    </div>
                    <div class="description">
                        <p>@product.Description</p>
                    </div>
                    <div class="extra">
                        <div class="ui right floated primary button" @onclick="async () => { await AddToCartHandler(product.Id); }">
                            @Localizer["Add to cart"]
                            <i class="right chevron icon"></i>
                        </div>
                    </div>
                </div>
            </div>
        }

    </div>
}

@code {
    [Parameter]
    public EventCallback<int> OnAddToCart { get; set; }

    [Parameter]
    public List<ProductModel> Products { get; set; }

    private async Task AddToCartHandler(int productId)
    {
        await OnAddToCart.InvokeAsync(productId);
    }
}
